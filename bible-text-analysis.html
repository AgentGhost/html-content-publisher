<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyse: Der Neutestamentliche Grundtext</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f4; 
            color: #1c1917;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .tab-active {
            border-bottom: 3px solid #b45309; 
            color: #78350f;
            font-weight: 600;
        }
        .tab-inactive {
            color: #57534e;
            border-bottom: 3px solid transparent;
        }
        .tab-inactive:hover {
            color: #b45309;
        }
        .fade-in {
            animation: fadeIn 0.4s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-stone-100 min-h-screen">

    <div class="max-w-6xl mx-auto px-4 py-8">
        
        <!-- Header -->
        <header class="mb-10 text-center">
            <h1 class="text-4xl font-bold text-stone-800 mb-2">Der Neutestamentliche Grundtext</h1>
            <p class="text-xl text-stone-600">Vergleichsanalyse: Mehrheitstext (MT) vs. Nestle-Aland (NA)</p>
            <p class="text-sm text-stone-500 mt-2 max-w-2xl mx-auto italic">
                Basierend auf dem Forschungsbericht von Roger Liebi und wissenschaftlichen Textdaten.
            </p>
        </header>

        <!-- Section 1: Beweislage & Statistik -->
        <section class="mb-12">
            <div class="bg-white rounded-xl p-6 card-shadow border border-stone-200">
                <h2 class="text-2xl font-semibold text-stone-800 mb-4 border-b pb-2 border-stone-100">1. Die Beweislage: Handschriften & Texttypen</h2>
                <p class="mb-6 text-stone-700 leading-relaxed">
                    Die Textkritik unterscheidet zwischen der Masse der Handschriften (Byzantinischer Text) und einer kleinen Minderheit (Alexandrinischer Text). Roger Liebi betont die Zuverl√§ssigkeit des Mehrheitstextes aufgrund seiner breiten √úberlieferung.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                    <!-- Chart 1: Differenzierung der 5% -->
                    <div class="flex flex-col items-center">
                        <h3 class="text-sm font-bold uppercase text-stone-500 mb-4">Differenzierung der Grundtexte</h3>
                        <div class="chart-container">
                            <canvas id="textTypeChart"></canvas>
                        </div>
                        <div class="mt-4 p-4 bg-amber-50 rounded text-xs text-stone-600 border border-amber-100">
                            <h4 class="font-bold text-amber-800 mb-1">Aufschl√ºsselung der Minderheitstexte (ca. 5 %)</h4>
                            <p>Hierzu z√§hlen der <strong>Alexandrinische Texttyp</strong> (~2,5 % - Basis f√ºr NA), der <strong>Westliche Text</strong> (~1,5 %) und der <strong>C√§sareanische Text</strong> (~1 %).</p>
                        </div>
                    </div>

                    <!-- Chart 2: Manuskripte exakte Zahlen -->
                    <div class="flex flex-col items-center">
                        <h3 class="text-sm font-bold uppercase text-stone-500 mb-4">Zeugen nach Roger Liebi (Total ~5760)</h3>
                        <div class="chart-container">
                            <canvas id="manuscriptTypeChart"></canvas>
                        </div>
                        <div class="grid grid-cols-2 gap-2 mt-4 w-full">
                            <div class="bg-stone-50 p-2 rounded text-center border border-stone-200">
                                <span class="block font-bold text-amber-700">124</span>
                                <span class="text-[10px] uppercase">Papyri</span>
                            </div>
                            <div class="bg-stone-50 p-2 rounded text-center border border-stone-200">
                                <span class="block font-bold text-amber-700">318</span>
                                <span class="text-[10px] uppercase">Unzialen</span>
                            </div>
                            <div class="bg-stone-50 p-2 rounded text-center border border-stone-200">
                                <span class="block font-bold text-amber-700">2882</span>
                                <span class="text-[10px] uppercase">Minuskeln</span>
                            </div>
                            <div class="bg-stone-50 p-2 rounded text-center border border-stone-200">
                                <span class="block font-bold text-amber-700">2436</span>
                                <span class="text-[10px] uppercase">Lektionare</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Vergleichsmatrix -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-stone-800 mb-4">2. Gegen√ºberstellung der Grundtext-Konzepte</h2>
            <div class="bg-white rounded-xl shadow overflow-hidden">
                <div class="flex border-b border-stone-200 bg-stone-50">
                    <button class="flex-1 py-4 text-center tab-active transition" id="btn-mt" onclick="switchTab('mt')">Mehrheitstext (MT)</button>
                    <button class="flex-1 py-4 text-center tab-inactive transition" id="btn-tr" onclick="switchTab('tr')">Textus Receptus (TR)</button>
                    <button class="flex-1 py-4 text-center tab-inactive transition" id="btn-na" onclick="switchTab('na')">Nestle-Aland (NA)</button>
                </div>

                <div class="p-6" id="matrix-body">
                    <!-- Wird dynamisch bef√ºllt -->
                </div>
            </div>
        </section>

        <!-- Section 3: Bibel-Analysator (Dropdown Gliederung) -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-stone-800 mb-4">3. Analyse deutscher Bibelrevisionen</h2>
            <p class="mb-6 text-stone-700 leading-relaxed">
                W√§hlen Sie eine Ausgabe, um deren Textbasis und die Positionierung zum Mehrheitstext zu pr√ºfen. Beachten Sie die Kategorisierung der Revisionen.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Selector -->
                <div class="bg-white p-6 rounded-xl card-shadow col-span-1 border border-stone-200">
                    <label class="block text-sm font-medium text-stone-700 mb-2">Bibelausgabe w√§hlen:</label>
                    <select id="bible-select" class="w-full p-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none" onchange="checkTranslation()">
                        <option value="none">-- Bitte w√§hlen --</option>
                        <optgroup label="Mehrheitstext-nah / Konservativ">
                            <option value="schlachter2000">Schlachter 2000 (MT-fokussiert)</option>
                            <option value="luther1545">Luther 1545 (Original-TR)</option>
                            <option value="zuercher1531">Z√ºrcher 1531 (Froschauer)</option>
                        </optgroup>
                        <optgroup label="Elberfelder Editions-Linien">
                            <option value="csv">Elberfelder Edition CSV (H√ºckeswagen)</option>
                            <option value="elberfelder1905">Elberfelder 1905 (Unrevidiert)</option>
                            <option value="elberfelder2006">Elberfelder 2006 (Brockhaus Revidiert)</option>
                        </optgroup>
                        <optgroup label="Moderne Revisionen (NA) / Wissenschaftlich">
                            <option value="esra">Esra-Studienbibel (NA + MT-Vergleich)</option>
                            <option value="luther2017">Luther 2017</option>
                            <option value="menge2020">Menge 2020</option>
                            <option value="einheit">Einheits√ºbersetzung</option>
                            <option value="hfa">Hoffnung f√ºr Alle</option>
                        </optgroup>
                    </select>

                    <div id="trans-result" class="mt-8 hidden fade-in text-center">
                        <span id="trans-badge" class="inline-block px-3 py-1 text-[10px] font-bold tracking-wide uppercase rounded-full"></span>
                        <h3 class="mt-2 text-xl font-bold text-stone-900" id="trans-name"></h3>
                    </div>
                </div>

                <!-- Analysis Display -->
                <div class="bg-white p-6 rounded-xl card-shadow col-span-1 md:col-span-2 relative min-h-[300px] border border-stone-200 flex flex-col justify-center">
                    <div id="trans-placeholder" class="text-center text-stone-400 italic">
                        W√§hlen Sie eine Ausgabe zur Analyse.
                    </div>
                    
                    <div id="trans-content" class="hidden fade-in">
                        <div class="mb-4">
                            <h4 class="text-xs font-bold text-stone-500 uppercase">Grundtext-Basis (Haupttext)</h4>
                            <p class="text-lg text-stone-800 font-medium" id="trans-base-desc"></p>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="text-xs font-bold text-stone-500 uppercase">Textn√§he / Fokus</h4>
                            <div class="w-full bg-stone-100 rounded-full h-4 mt-2 relative overflow-hidden">
                                <div id="trans-bar" class="h-4 transition-all duration-1000" style="width: 0%"></div>
                            </div>
                            <div class="flex justify-between text-[10px] text-stone-400 mt-1 uppercase">
                                <span>Nestle-Aland</span>
                                <span id="trans-percent-label" class="font-bold text-amber-700"></span>
                                <span>Mehrheitstext</span>
                            </div>
                        </div>

                        <div class="bg-stone-50 p-4 rounded border-l-4 border-stone-300 text-sm italic text-stone-600 leading-relaxed" id="trans-comment"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-stone-400 text-xs mt-16 pb-8 border-t border-stone-200 pt-8">
            <p>Quellen: Robinson-Pierpont 2005 (MT) | Nestle-Aland 28 (NA) | Roger Liebi: Welches ist der ganz exakte Bibeltext?</p>
        </footer>
    </div>

    <!-- JavaScript Logic -->
    <script>
        const colorMT = '#166534';
        const colorAlex = '#ef4444'; 
        const colorWest = '#fb923c'; 
        const colorOther = '#d1d5db';
        const colorTR = '#d97706';

        const textData = {
            mt: {
                title: "Mehrheitstext (MT / Byzantinisch)",
                base: "Repr√§sentiert ca. 95 % aller griechischen Handschriften. Entspricht dem √ºber Jahrtausende genutzten Text.",
                diffCount: "0 (Referenz)",
                sciView: "Wird wissenschaftlich als sekund√§r eingestuft. Man geht von einer Gl√§ttung schwieriger Stellen im 4. Jh. aus.",
                consView: "Der bewahrte Urtext. Die breite √úbereinstimmung der Zeugen belegt die g√∂ttliche √úberlieferung."
            },
            tr: {
                title: "Textus Receptus (TR)",
                base: "Der Text der Reformationszeit (Erasmus/Scrivener). Basiert auf wenigen sp√§ten byzantinischen Handschriften.",
                diffCount: "~1.005",
                sciView: "Wissenschaftlich √ºberholt. Enth√§lt Lesarten, die teils aus dem Lateinischen r√ºck√ºbersetzt wurden.",
                consView: "Sehr nah am Mehrheitstext (99 %). Grundlage der KJV und Lutherbibel bis zum 19. Jahrhundert."
            },
            na: {
                title: "Nestle-Aland (NA 27/28)",
                base: "Eklektischer Text auf Basis des Alexandrinischen Texttyps (Sinaiticus, Vaticanus).",
                diffCount: "6.577",
                sciView: "Wissenschaftlicher Standard. Versuch der Rekonstruktion des √§ltesten Textes durch die fr√ºhesten Zeugen.",
                consView: "Ein korrumpierter Text aus der √§gyptischen Region. Die Hauptzeugen widersprechen sich an tausenden Stellen."
            }
        };

        const bibles = {
            esra: {
                name: "Esra-Studienbibel",
                type: "Moderne Revision (NA Base)",
                class: "bg-blue-100 text-blue-800",
                barWidth: "15%",
                baseDesc: "Nestle-Aland (Text der revidierten Elberfelder).",
                comment: "Der Haupttext folgt dem modernen Nestle-Aland. Besonderheit: Ein umfassender Fu√ünotenapparat vergleicht konsequent den Mehrheitstext und diskutiert dessen Lesarten kritisch-w√ºrdigend.",
                percentLabel: "NA-Text / MT-Kommentar"
            },
            schlachter2000: {
                name: "Schlachter 2000",
                type: "Konservativ / MT-nah",
                class: "bg-green-100 text-green-800",
                barWidth: "96%",
                baseDesc: "Textus Receptus mit gezielten Korrekturen nach dem Mehrheitstext.",
                comment: "Folgt konsequent dem byzantinischen Texttyp und korrigiert Erasmus-Lesarten dort, wo der Mehrheitstext eindeutiger ist.",
                percentLabel: "96 %"
            },
            luther1545: {
                name: "Luther 1545",
                type: "Reformationsbibel",
                class: "bg-amber-100 text-amber-800",
                barWidth: "88%",
                baseDesc: "Textus Receptus (Erasmus, 2. Ausgabe).",
                comment: "Der originale Text Luthers. Basiert auf der byzantinischen Tradition, wie sie im 16. Jahrhundert zug√§nglich war.",
                percentLabel: "88 %"
            },
            zuercher1531: {
                name: "Z√ºrcher 1531 (Froschauer)",
                type: "Reformationsbibel",
                class: "bg-amber-100 text-amber-800",
                barWidth: "86%",
                baseDesc: "Textus Receptus / Fr√ºher Mehrheitstext.",
                comment: "Die Z√ºrcher Bibel der Reformation. Textlich eng verwandt mit Luther, basierend auf dem TR.",
                percentLabel: "86 %"
            },
            csv: {
                name: "Elberfelder Edition CSV",
                type: "Wortgetreu / CSV-Linie",
                class: "bg-blue-100 text-blue-800",
                barWidth: "82%",
                baseDesc: "Unrevidierte Tradition (Darby), weicht teils bewusst von NA ab.",
                comment: "Bewahrt viele traditionelle Lesarten und ist textkritisch skeptischer gegen√ºber modernen NA-√Ñnderungen als die Brockhaus-Linie.",
                percentLabel: "82 %"
            },
            elberfelder1905: {
                name: "Elberfelder 1905",
                type: "Unrevidiert (Brockhaus)",
                class: "bg-stone-200 text-stone-700",
                barWidth: "60%",
                baseDesc: "Basiert auf kritischen Texten des 19. Jh. (Tischendorf/Darby).",
                comment: "Obwohl 'unrevidiert', nutzte sie bereits fr√ºhe textkritische Apparate. Wortgetreue √úbersetzung, aber textlich moderner als Luther.",
                percentLabel: "60 %"
            },
            elberfelder2006: {
                name: "Elberfelder 2006",
                type: "Revidiert (Brockhaus)",
                class: "bg-red-100 text-red-800",
                barWidth: "10%",
                baseDesc: "Nestle-Aland 27.",
                comment: "Die moderne Brockhaus-Revision folgt konsequent dem wissenschaftlichen Standard-Text.",
                percentLabel: "10 %"
            },
            luther2017: {
                name: "Luther 2017",
                type: "EKD Revision",
                class: "bg-red-100 text-red-800",
                barWidth: "15%",
                baseDesc: "Nestle-Aland 28.",
                comment: "Vollst√§ndige √úbernahme der NA-Lesarten, bewahrt jedoch die vertraute Sprachrhythmik Luthers.",
                percentLabel: "15 %"
            },
            menge2020: {
                name: "Menge 2020",
                type: "Wissenschaftlich",
                class: "bg-red-100 text-red-800",
                barWidth: "12%",
                baseDesc: "Nestle-Aland 28.",
                comment: "Revision der Menge-Bibel, die nun textlich vollst√§ndig auf NA28 basiert.",
                percentLabel: "12 %"
            },
            einheit: {
                name: "Einheits√ºbersetzung",
                type: "Katholisch",
                class: "bg-red-200 text-red-900",
                barWidth: "5%",
                baseDesc: "Nestle-Aland.",
                comment: "Konsequente wissenschaftliche Grundlage ohne Ber√ºcksichtigung byzantinischer Traditionen.",
                percentLabel: "5 %"
            },
            hfa: {
                name: "Hoffnung f√ºr Alle",
                type: "Kommunikativ (NA)",
                class: "bg-stone-50 text-stone-500",
                barWidth: "12%",
                baseDesc: "Nestle-Aland-Basis.",
                comment: "Inhaltliche Orientierung am NA, jedoch sehr freie, kommunikative √úbertragung.",
                percentLabel: "12 %"
            }
        };

        function switchTab(tabId) {
            ['na', 'tr', 'mt'].forEach(id => {
                const btn = document.getElementById('btn-' + id);
                btn.className = (id === tabId) ? "flex-1 py-4 text-center tab-active transition" : "flex-1 py-4 text-center tab-inactive transition";
            });

            const data = textData[tabId];
            const body = document.getElementById('matrix-body');
            body.innerHTML = `
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 fade-in">
                    <div class="lg:col-span-1 border-r border-stone-100 pr-4">
                        <h3 class="text-xl font-bold text-stone-800 mb-2">${data.title}</h3>
                        <div class="mb-4">
                            <span class="text-xs font-semibold uppercase text-stone-500 tracking-wider">Beschreibung</span>
                            <p class="text-sm mt-1">${data.base}</p>
                        </div>
                        <div class="mb-4">
                            <span class="text-xs font-semibold uppercase text-stone-500 tracking-wider">Differenz zum MT</span>
                            <div class="flex items-end gap-2 mt-1">
                                <span class="text-4xl font-bold ${tabId === 'mt' ? 'text-green-600' : (tabId === 'tr' ? 'text-amber-600' : 'text-red-600')}">${data.diffCount}</span>
                                <span class="text-sm text-stone-500 mb-1">Stellen</span>
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-blue-50 p-5 rounded-lg border border-blue-100">
                            <h4 class="font-bold text-blue-800 flex items-center mb-3">üî¨ Wissenschaftlich</h4>
                            <p class="text-sm text-blue-900 leading-relaxed">${data.sciView}</p>
                        </div>
                        <div class="bg-amber-50 p-5 rounded-lg border border-amber-100">
                            <h4 class="font-bold text-amber-800 flex items-center mb-3">üìú Konservativ (Liebi)</h4>
                            <p class="text-sm text-amber-900 leading-relaxed">${data.consView}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function checkTranslation() {
            const select = document.getElementById('bible-select');
            const val = select.value;
            const placeholder = document.getElementById('trans-placeholder');
            const content = document.getElementById('trans-content');
            const resultBox = document.getElementById('trans-result');

            if (val === 'none') {
                placeholder.classList.remove('hidden');
                content.classList.add('hidden');
                resultBox.classList.add('hidden');
                return;
            }

            const data = bibles[val];
            placeholder.classList.add('hidden');
            content.classList.remove('hidden');
            resultBox.classList.remove('hidden');

            document.getElementById('trans-name').innerText = data.name;
            const badge = document.getElementById('trans-badge');
            badge.innerText = data.type;
            badge.className = `inline-block px-3 py-1 text-[10px] font-bold tracking-wide uppercase rounded-full ${data.class}`;

            document.getElementById('trans-base-desc').innerText = data.baseDesc;
            document.getElementById('trans-comment').innerText = `"${data.comment}"`;
            document.getElementById('trans-percent-label').innerText = data.percentLabel;
            
            setTimeout(() => {
                const bar = document.getElementById('trans-bar');
                bar.style.width = data.barWidth;
                const p = parseInt(data.barWidth);
                if (data.name === "Esra-Studienbibel") {
                    bar.className = 'h-4 rounded-full bg-blue-500'; 
                } else if (p > 80) {
                    bar.className = 'h-4 rounded-full bg-green-600';
                } else if (p > 50) {
                    bar.className = 'h-4 rounded-full bg-amber-500';
                } else {
                    bar.className = 'h-4 rounded-full bg-red-600';
                }
            }, 50);
        }

        window.onload = function() {
            switchTab('mt');
            
            new Chart(document.getElementById('textTypeChart').getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Mehrheitstext (95%)', 'Alexandrinisch (~2.5%)', 'Westlich (~1.5%)', 'Sonstige (~1%)'],
                    datasets: [{
                        data: [95, 2.5, 1.5, 1],
                        backgroundColor: [colorMT, colorAlex, colorWest, colorOther],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { font: { size: 10 } } } } }
            });

            new Chart(document.getElementById('manuscriptTypeChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Papyri', 'Unzialen', 'Minuskeln', 'Lektionare'],
                    datasets: [{
                        label: 'Anzahl Zeugen',
                        data: [124, 318, 2882, 2436],
                        backgroundColor: ['#94a3b8', '#64748b', colorMT, colorTR]
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false } } }
            });
        };
    </script>
</body>
</html>
